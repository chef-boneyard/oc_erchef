config:
  # TODO couldn't we just infer this by going up a couple of levels?
  # Where does your chef code live, relative to your home directory?
  source_path: oc
  packages: [ ntp, curl, wget, htop, uuid-dev, tmux, vim ]

projects:
  oc_erchef:
    git:
      uri: git@github.com:chef/oc_erchef.git
      branch: master
    database: opscode_chef
    type: erlang
    service:
      rel-type: relx
      name: opscode-erchef
      cookie: erchef
      node: erchef@127.0.0.1
  omnibus-cookbooks:
    git:
      uri: git@github.com:chef/opscode-omnibus.git
      branch: master
    type: cookbook

  oc-chef-pedant:
    source: git@github.com:chef/oc-chef-pedant.git
    branch: master
    database: opscode_chef
    type: ruby
    build_cmd: bundle install
      # TODO can't really auto-resolve these implicit deps, can we?
    build:
      - bundle install
    rel-mapping:
      from: /mnt/host/@source_path/oc-chef-pedant
      from: /opt/opscode/embedded/services/oc-chef-pedant

orgs:
  ponyville:
    last_name: pony
    admins: [ applejack ]
    nodes: [ node1, node2, node3 ]

users:
  applejack: { orgs: ponyville }
  fluttershy: { orgs: ponyville }
